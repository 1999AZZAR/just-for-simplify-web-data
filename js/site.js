var langJson={};function getE(e){return document.getElementById(e)}function esc(e){return e?e.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;").replace(/\//g,"&#x2F;"):""}function convertLineBreaks(e){return e?e=(e=e.toString()).replace(/(?:\r\n|\r|\n)/g,"<br>"):""}function showMessage(e,n){e.startsWith("ERROR")?(getE("status").style.backgroundColor="#d33",getE("status").innerHTML="disconnected",console.error("disconnected ("+e+")")):(getE("status").style.backgroundColor="#3c5",getE("status").innerHTML="connected",console.log(""+e))}function getFile(e,n,t,o,a,r){if(void 0!==e){void 0===n&&(n=function(){}),void 0===t&&(t=8e3),void 0===o&&(o="GET"),void 0===a&&(a=function(){showMessage("ERROR: timeout loading file "+e)}),void 0===r&&(r=function(){showMessage("ERROR: loading file: "+e)});var i=new XMLHttpRequest;i.open(o,encodeURI(e),!0),i.timeout=t,i.ontimeout=a,i.onerror=r,i.overrideMimeType("application/json"),i.onreadystatechange=function(){4==this.readyState&&200==this.status&&n(this.responseText)},i.send(),console.log(e)}}function lang(e){return convertLineBreaks(esc(langJson[e]))}function parseLang(e){if("en"!=(langJson=JSON.parse(e)).lang){var n=document.querySelectorAll("[data-translate]");for(i=0;i<n.length;i++){var t=n[i];t.innerHTML=lang(t.getAttribute("data-translate"))}}document.querySelector("html").setAttribute("lang",langJson.lang),"undefined"!=typeof load&&load()}function loadLang(){getFile("lang/default.lang",parseLang,2e3,"GET",(function(){getFile("lang/en.lang",parseLang)}),(function(){getFile("lang/en.lang",parseLang)}))}window.addEventListener("load",(function(){getE("status").style.backgroundColor="#3c5",getE("status").innerHTML="connected"}));
